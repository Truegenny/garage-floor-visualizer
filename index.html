<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Garage Floor Visualizer</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="app">
    <aside id="sidebar">
      <div class="header-row">
        <h1>Garage Floor Planner</h1>
        <div class="header-right">
          <span class="version">v1.3.0</span>
          <button id="btn-info" class="info-btn" title="Changelog">i</button>
        </div>
      </div>

      <section class="panel">
        <h2>Room Size</h2>
        <div class="dim-row">
          <label>Width</label>
          <input type="number" id="room-w-ft" value="20" min="1" max="100"> ft
          <input type="number" id="room-w-in" value="0" min="0" max="11"> in
        </div>
        <div class="dim-row">
          <label>Depth</label>
          <input type="number" id="room-d-ft" value="20" min="1" max="100"> ft
          <input type="number" id="room-d-in" value="0" min="0" max="11"> in
        </div>
        <button id="btn-update-room" class="btn primary">Update Room</button>
      </section>

      <section class="panel">
        <h2>Add Objects</h2>
        <div id="catalog-tabs" class="tab-bar"></div>
        <div id="catalog-list" class="catalog-list"></div>
      </section>

      <section class="panel">
        <h2>Custom Object</h2>
        <input type="text" id="custom-name" placeholder="Name" class="input-full">
        <div class="dim-row">
          <label>W</label>
          <input type="number" id="custom-w-ft" value="0" min="0"> ft
          <input type="number" id="custom-w-in" value="24" min="0"> in
        </div>
        <div class="dim-row">
          <label>D</label>
          <input type="number" id="custom-d-ft" value="0" min="0"> ft
          <input type="number" id="custom-d-in" value="24" min="0"> in
        </div>
        <div class="color-row">
          <label>Color</label>
          <input type="color" id="custom-color" value="#22c55e">
        </div>
        <button id="btn-add-custom" class="btn primary">Add Custom</button>
      </section>

      <section class="panel" id="selected-panel" style="display:none">
        <h2>Edit Selected</h2>
        <input type="text" id="edit-name" class="input-full">
        <div class="dim-row">
          <label>W</label>
          <input type="number" id="edit-w-ft" min="0"> ft
          <input type="number" id="edit-w-in" min="0"> in
        </div>
        <div class="dim-row">
          <label>D</label>
          <input type="number" id="edit-d-ft" min="0"> ft
          <input type="number" id="edit-d-in" min="0"> in
        </div>
        <div class="color-row">
          <label>Color</label>
          <input type="color" id="edit-color" value="#3b82f6">
        </div>
        <p id="sel-rotation" class="sel-info dim"></p>
        <button id="btn-apply-edit" class="btn primary">Apply Changes</button>
        <div class="btn-row">
          <button id="btn-rotate" class="btn">Rotate 90&deg;</button>
          <button id="btn-delete" class="btn danger">Delete</button>
        </div>
      </section>

      <section class="panel help">
        <h2>Controls</h2>
        <ul>
          <li>Click item to add to room</li>
          <li>Drag object to move</li>
          <li><kbd>R</kbd> Rotate selected</li>
          <li><kbd>Del</kbd> Delete selected</li>
          <li>Scroll to zoom</li>
          <li>Drag empty space to pan</li>
        </ul>
      </section>

      <section class="panel">
        <button id="btn-clear" class="btn danger full">Clear All Objects</button>
      </section>
    </aside>

    <main id="canvas-container">
      <canvas id="canvas"></canvas>
      <div id="controls">
        <button id="btn-zoom-in" class="ctrl-btn">+</button>
        <button id="btn-zoom-out" class="ctrl-btn">&minus;</button>
        <button id="btn-fit" class="ctrl-btn">Fit</button>
        <label class="ctrl-label"><input type="checkbox" id="chk-snap" checked> Snap</label>
        <label class="ctrl-label"><input type="checkbox" id="chk-labels" checked> Labels</label>
        <div class="ctrl-sep"></div>
        <button id="btn-export" class="ctrl-btn export-btn" title="Export as PNG">PNG</button>
      </div>
    </main>
  </div>
  <div id="modal-overlay" class="modal-overlay" style="display:none">
    <div class="modal">
      <div class="modal-header">
        <h2>Garage Floor Planner <span class="version">v1.3.0</span></h2>
        <button id="btn-modal-close" class="modal-close">&times;</button>
      </div>
      <div class="modal-body">
        <h3>v1.3.0</h3>
        <ul>
          <li>Visual polish: rounded corners, drop shadows, inner highlights on all objects</li>
          <li>Vehicle detail rendering: car top-down view with wheels, windshield, rear window, roof outline</li>
          <li>Motorcycle detail rendering: wheels, handlebars, frame centerline</li>
          <li>Improved walls: thick walls with depth/highlight effect</li>
          <li>Dimension lines with tick marks on room edges</li>
          <li>Export to PNG: download current view as image</li>
        </ul>
        <h3>v1.3.0</h3>
        <ul>
          <li>Added version number and changelog</li>
          <li>Added info button</li>
        </ul>
        <h3>v1.1.0</h3>
        <ul>
          <li>Added Lifts category: HF Motorcycle Lift, JEGS Motorcycle Lift, Car Scissor Lifts (mid-rise &amp; full-rise)</li>
          <li>Color picker for custom objects</li>
          <li>Edit placed objects: change name, dimensions, and color after placement</li>
        </ul>
        <h3>v1.0.0</h3>
        <ul>
          <li>Initial release</li>
          <li>Custom room size in feet/inches</li>
          <li>Vehicles: 2021 Honda Passport, 2023 KTM Duke 890 R, 2021 Honda Grom</li>
          <li>DeWalt woodworking tools: 13" Planer, 10" Table Saw, 12" Miter Saw, Scroll Saw, and more</li>
          <li>Tool storage: US General carts/cabinets, Husky tool chests, HF service cart</li>
          <li>Steel and plastic shelving in common sizes</li>
          <li>Custom objects with user-defined dimensions</li>
          <li>Drag to move, rotate, delete, zoom, pan</li>
          <li>Grid snapping and label toggles</li>
          <li>Auto-save layout to browser storage</li>
        </ul>
      </div>
    </div>
  </div>
  <script src="app.js"></script>
</body>
</html>
